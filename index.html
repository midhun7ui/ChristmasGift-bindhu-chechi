<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Very Merry Christmas, Bindhu Chechi!</title>

    <!-- Load Essential Libraries from CDNs -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.8.1/lottie.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>

    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="snowfall-container"></div>
    
    <div id="xmas-card-app">
        <!-- 1. Landing Screen (HTML/CSS/JS) -->
        <div id="landing-screen">
            <div id="lottie-character"></div>
            <h1>A Special Christmas Surprise Awaits!</h1>
            <p>Ready to open your personalized Christmas book, Bindhu Chechiâ¤ï¸ğŸ˜</p>
            <button id="start-btn" class="primary-btn">Start the Festive Fun!</button>
        </div>

        <!-- 2. Three.js Container -->
        <div id="book-container">
            <!-- Canvas will be injected here -->
        </div>

        <!-- 3. Message Pages (Will be animated to look like they're inside the book) -->
        <div id="book-messages-container">
            <!-- Page 1: Greeting & TTS -->
            <div id="page-1" class="book-page active-page">
                <div>
                    <h2>Merry Christmas, Bindhu Chechi!</h2>
                    <p>Wishing you a holiday season filled with joy, peace, and all the happiness you deserve. You light up every room and every moment.</p>
                    <p>May your Christmas be as wonderful and bright as you are. Enjoy the season with your loved ones!</p>
                    <div class="flex flex-col items-center mt-4">
                        <button id="tts-btn" class="primary-btn tts-btn">Hear My Wish! âœ¨</button>
                        <audio id="tts-audio" controls style="display: none; width: 100%;"></audio>
                        <p id="tts-status" class="text-sm text-red-600">Click to listen!</p>
                    </div>
                </div>
                <button id="next-page-btn-1" class="primary-btn" style="background: var(--green-xmas); align-self: center;">Next Page of Magic ğŸ“–</button>
            </div>
            
            <!-- Page 2: Interactive Puzzle -->
            <div id="page-2" class="book-page">
                <div>
                    <h2>A Little Christmas Puzzle!</h2>
                    <p>Find the hidden word in the sentence below:</p>
                    <div id="puzzle-box" class="flex flex-col items-center justify-center p-4 bg-yellow-100 rounded-lg shadow-inner mt-4">
                        <p class="text-xl font-bold mb-4">"The best gift is <u style="text-decoration: none; color: var(--green-xmas);">F-R-I-E-N-D-S-H-I-P</u> and joy."</p>
                        <button id="reveal-puzzle-btn" class="primary-btn" style="background: var(--red-xmas);">Reveal Hint</button>
                        <p id="puzzle-hint" class="mt-4 text-sm text-red-600 opacity-0 transition-opacity duration-500">The hidden word is the one underlined!</p>
                    </div>
                    <p class="mt-6 text-sm">Hope you smiled! Ready for more festive fun?</p>
                </div>
                <button id="next-page-btn-2" class="primary-btn" style="align-self: center;">One More Page ğŸª</button>
            </div>

            <!-- Page 3: Gemini Recipe Generator -->
            <div id="page-3" class="book-page">
                <div>
                    <h2>Chef ChatGPT Festive Recipes âœ¨ğŸğŸ„</h2>
                    <p>Ask Chef ChatGPT to create a personalized Christmas dish, just for you! Try "A cookie for a kind Chechi" or "A festive drink for Bindhu Chechi".</p>
                    <input type="text" id="recipe-prompt" class="recipe-input" placeholder="E.g., A special cake for a loving Bindhu Chechi">
                    <button id="generate-recipe-btn" class="primary-btn" style="background: var(--gold-xmas); color: #333; width: 100%; margin-top: 0;">Generate Recipe!</button>
                    <div id="recipe-loader" class="loader mt-4"></div>
                    <div id="recipe-output" class="recipe-output">Your festive recipe will appear here!</div>
                </div>
                <button id="next-page-btn-3" class="primary-btn" style="align-self: center;">Final Surprise ğŸ</button>
            </div>
        </div>
        
        <!-- 4. Gift Box (GSAP Animation Target) -->
        <div id="gift-box">
            <p>One Last Kiss of Christmas Magic!</p>
            <span style="font-size: 4em;">ğŸ</span>
        </div>
        
        <!-- 5. Final Click Message -->
        <div id="final-message">
            <span>âœ¨</span>
            Let this Christmas remind u that u deserve all the calm & love in the universe ğŸ„ğŸ’«Merry Christmas Bindhu Chechiâ¤ï¸ <span style="color: var(--red-xmas);">endless happiness</span>!
        </div>
    </div>


    <script src="script.js"></script>
</body>
</html>